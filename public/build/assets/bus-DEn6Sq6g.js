import{r as x,j as e}from"./app-CVSLwbXb.js";import{t as v}from"./apis-BrEZBuSk.js";function C({columns:t,data:c}){var b,p,j;const[m,y]=x.useState({}),[o,h]=x.useState(null),[a,i]=x.useState(null),[d,k]=x.useState({}),l=((b=t[0])==null?void 0:b.key)||"id",N=s=>{y(r=>({...r,[s]:!r[s]}))},g=s=>{h(s),v(s[l])},f=()=>{var s,r;a.rate||(s=d[a[l]])!=null&&s.rate,a.type||(r=d[a[l]])!=null&&r.type,i(null)};return e.jsxs("div",{className:"max-w-full bg-gray-100 mt-6",children:[e.jsxs("table",{className:"w-full border-collapse border border-gray-300 mt-4",children:[e.jsx("thead",{className:"bg-gray-200",children:e.jsxs("tr",{children:[t.map(s=>e.jsx("th",{className:"border p-2 text-left",children:s.label},s.key)),e.jsx("th",{className:"border p-2 text-left",children:"Status"}),e.jsx("th",{className:"border p-2 text-left",children:"Actions"})]})}),e.jsx("tbody",{children:c.length>0?c.map((s,r)=>e.jsxs("tr",{className:"border",children:[t.map(n=>e.jsx("td",{className:"p-2 border",children:s[n.key]},n.key)),e.jsx("td",{className:"p-2 border",children:e.jsx("button",{className:`px-4 py-1 rounded-full ${m[s[l]]?"bg-green-500 text-white":"bg-red-500 text-white"}`,onClick:()=>N(s[l]),children:m[s[l]]?"Active":"Inactive"})}),e.jsxs("td",{className:"p-2 border",children:[e.jsx("button",{className:"bg-blue-500 text-white px-2 py-1 rounded mr-2",onClick:()=>g(s),children:"View Details"}),e.jsx("button",{className:"bg-yellow-500 text-white px-2 py-1 rounded",onClick:()=>{var n,u;return i({...s,rate:((n=d[s[l]])==null?void 0:n.rate)||"",type:((u=d[s[l]])==null?void 0:u.type)||""})},children:"Edit Details"})]})]},r)):e.jsx("tr",{children:e.jsx("td",{colSpan:t.length+2,className:"text-center p-4",children:"No data available"})})})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-6 rounded shadow-lg w-3/4",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:"Commission Details"}),e.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[e.jsx("thead",{className:"bg-gray-200",children:e.jsxs("tr",{children:[t.map(s=>e.jsx("th",{className:"border p-2",children:s.label},s.key)),e.jsx("th",{className:"border p-2",children:"Commission Rate"}),e.jsx("th",{className:"border p-2",children:"Commission Type"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[t.map(s=>e.jsx("td",{className:"border p-2",children:o[s.key]},s.key)),e.jsx("td",{className:"border p-2",children:((p=d[o[l]])==null?void 0:p.rate)||"Loading..."}),e.jsx("td",{className:"border p-2",children:((j=d[o[l]])==null?void 0:j.type)||"Loading..."})]})})]}),e.jsx("div",{className:"text-center mt-4",children:e.jsx("button",{className:"bg-red-500 text-white px-4 py-2 rounded",onClick:()=>h(null),children:"Close"})})]})}),a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-6 rounded shadow-lg w-3/4",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:"Edit Details"}),e.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[e.jsx("thead",{className:"bg-gray-200",children:e.jsxs("tr",{children:[t.map(s=>e.jsx("th",{className:"border p-2",children:s.label},s.key)),e.jsx("th",{className:"border p-2",children:"Commission Rate"}),e.jsx("th",{className:"border p-2",children:"Commission Type"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[t.map(s=>e.jsx("td",{className:"border p-2",children:a[s.key]},s.key)),e.jsx("td",{className:"border p-2",children:e.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:a.rate,onChange:s=>i({...a,rate:s.target.value})})}),e.jsx("td",{className:"border p-2",children:e.jsxs("select",{className:"w-full border p-2 rounded",value:a.type||"",onChange:s=>i({...a,type:s.target.value}),children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Rental",children:"Rental"}),e.jsx("option",{value:"Percentage",children:"Percentage"})]})})]})})]}),e.jsxs("div",{className:"text-center mt-4",children:[e.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",onClick:f,children:"Save"}),e.jsx("button",{className:"bg-gray-500 text-white px-4 py-2 rounded ml-2",onClick:()=>i(null),children:"Cancel"})]})]})})]})}function D(){const t=[{key:"id",label:"id"},{key:"name",label:"name"}],c=[{id:1,name:"Red Bus"},{id:2,name:"BusBud"},{id:3,name:"EaseMyTrip"},{id:3,name:"Nuego"},{id:3,name:"Abhi Bus"}];return e.jsxs("div",{className:"max-w-full bg-gray-100 mt-6",children:[e.jsx("div",{className:"bg-gray-700 flex justify-between p-4",children:e.jsx("h3",{className:"text-white font-bold",children:"Airtel Commission"})}),e.jsx(C,{columns:t,data:c})]})}export{D as default};
